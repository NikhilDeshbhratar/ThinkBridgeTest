(window["webpackJsonpreact-hooks"]=window["webpackJsonpreact-hooks"]||[]).push([[0],{18:function(e,t,r){e.exports=r(43)},23:function(e,t,r){},43:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(17),u=r.n(c),l=(r(23),r(1)),o=r.n(l),s=r(3),i=r(4),p=r(5);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var f=function(e){var t=Object(n.useState)({image:null}),r=Object(i.a)(t,2),c=r[0],u=r[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),s=(o[0],o[1],function(e){var t=e.target,r=t.name,n=t.value;u(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c,Object(p.a)({},r,n)))});return a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),c.name&&c.price&&(e.addUser(c),u({}))}},a.a.createElement("label",null,"Name"),a.a.createElement("input",{type:"text",name:"name",value:c.name,onChange:s,required:!0}),a.a.createElement("label",null,"Price"),a.a.createElement("input",{type:"number",name:"price",value:c.price,onChange:s,required:!0}),a.a.createElement("label",null,"Description"),a.a.createElement("input",{type:"text",name:"description",value:c.description,onChange:s}),a.a.createElement("label",null,"Image"),a.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",name:"image",onChange:function(e){var t=e.target.files[0];c.image=t}}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{class:"vertical-center"},a.a.createElement("button",{style:{alignContent:"center"}},"Add Item")))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var b=function(e){var t=Object(n.useState)(e.currentUser),r=Object(i.a)(t,2),c=r[0],u=r[1];Object(n.useEffect)((function(){u(e.currentUser)}),[e]);var l=function(e){var t=e.target,r=t.name,n=t.value;u(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},c,Object(p.a)({},r,n)))};return a.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.updateUser(c.id,c)}},a.a.createElement("label",null,"Name"),a.a.createElement("input",{type:"text",name:"name",value:c.name,onChange:l,required:!0}),a.a.createElement("label",null,"Price"),a.a.createElement("input",{type:"number",name:"price",value:c.price,onChange:l,required:!0}),a.a.createElement("label",null,"Description"),a.a.createElement("input",{type:"text",name:"description",value:c.description,onChange:l}),a.a.createElement("button",null,"Update user"),a.a.createElement("button",{onClick:function(){return e.setEditing(!1)},className:"button muted-button",style:{backgroundColor:"#a9a9a9",color:"white"}},"Cancel"))},v=r(7),E=r.n(v);var O=function(e){return a.a.createElement("div",{class:"table-wrapper-scroll-y my-custom-scrollbar",style:{border:"2px solid #dedede"}},a.a.createElement("table",{class:"table table-striped sticky-header"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Price"),a.a.createElement("th",null,"Description"),a.a.createElement("th",null,"Added At"),a.a.createElement("th",{"align-content":"center"},"Actions"))),a.a.createElement("tbody",null,e.users.length>0?e.users.map((function(t){return a.a.createElement("tr",{key:t.id},a.a.createElement("td",{class:"cell expand-small-on-hover"},function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}(t.name)),a.a.createElement("td",null,t.price),a.a.createElement("td",{class:"cell expand-small-on-hover"},t.description),a.a.createElement("td",null,(r=t.created_at,E()(r).format("DD/MM/YYYY"))),a.a.createElement("td",null,a.a.createElement("td",null,a.a.createElement("button",{onClick:function(){e.editRow(t)},class:"fas fa-edit",style:{backgroundColor:"green",color:"white"}},a.a.createElement("i",{class:"far fa-clock"}),"Edit")),a.a.createElement("td",null,a.a.createElement("button",{onClick:function(){return e.deleteUser(t.id)},className:"button muted-button",style:{backgroundColor:"red",color:"white",size:"4px"}},"Delete"))));var r})):a.a.createElement("tr",null,a.a.createElement("td",{colSpan:3},"No Items")))))},g=r(6);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(r,!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j="http://127.0.0.1:8000/api",w=function(){var e=Object(s.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(j,"/").concat(t),e.next=4,g.post(t,r);case 4:return n=e.sent,e.abrupt("return",y({},n.data,{variant:"success"}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{message:e.t0.response.data.detail,variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(o.a.mark((function e(t){var r,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t="".concat(j,"/").concat(t),e.prev=2,e.next=5,g.get(t,{params:r});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{message:e.t0.response.data.detail,variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(o.a.mark((function e(t,r){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(j,"/").concat(t),e.next=4,g.put(t,r);case 4:return n=e.sent,e.abrupt("return",y({},n.data,{variant:"success"}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{message:e.t0.response.data.detail,variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(j,"/").concat(t),e.next=4,g.delete(t);case 4:return r=e.sent,e.abrupt("return",y({},r.data,{variant:"success"}));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{message:e.t0.response.data.detail,variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){console.log(e,"IN CREATE ITEM");return w("tea/",e)},D=function(e,t){return k("tea/".concat(t,"/"),e)},C=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P("tea/".concat(t,"/")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),r=(t[0],t[1]),c=Object(n.useState)([]),u=Object(i.a)(c,2),l=u[0],p=u[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),v=(d[0],d[1]);Object(n.useEffect)((function(){E()}),[]);var E=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,x("tea/");case 4:t=e.sent,r(t.data),t.data&&j(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,S(t);case 4:e.sent,alert("Added Succesfully"),E(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(o.a.mark((function e(t,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,D(r,t);case 4:e.sent,alert("Updated Succesfully"),E(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,C(t);case 4:e.sent,alert("Deleted Succesfully"),E(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=[];e&&e.map((function(e){var r={id:e.id,name:e.name,price:e.price,description:e.description,created_at:e.created_at,image_url:e.image_url};t.push(r)})),p(t)},w=Object(n.useState)(l),k=Object(i.a)(w,2),P=(k[0],k[1],Object(n.useState)({id:null,name:"",username:""})),U=Object(i.a)(P,2),N=U[0],A=U[1],I=Object(n.useState)(!1),T=Object(i.a)(I,2),_=T[0],q=T[1];return a.a.createElement("div",{className:"container"},a.a.createElement("h1",null,a.a.createElement("b",null,"Sadguru Tea Software")),a.a.createElement("div",{className:"flex-row"},a.a.createElement("div",{className:"flex-large"},_?a.a.createElement(n.Fragment,null,a.a.createElement("h2",null,"Edit user"),a.a.createElement(b,{editing:_,setEditing:q,currentUser:N,updateUser:function(e,t){q(!1),h(e,t),p(l.map((function(r){return r.id===e?t:r})))}})):a.a.createElement(n.Fragment,null,a.a.createElement("h2",null,a.a.createElement("b",null,"Add Tea Item")),a.a.createElement(f,{addUser:function(e){console.log("IN ADD USER",e),e.image&&e.image instanceof File?(e.image=null,g(e)):g(e)}}))),a.a.createElement("div",{className:"flex-large"},a.a.createElement("h2",null,a.a.createElement("b",null,"Tea List")),a.a.createElement(O,{users:l,editRow:function(e){q(!0),A(e)},deleteUser:function(e){q(!1),y(e),p(l.filter((function(t){return t.id!==e})))}}))))};u.a.render(a.a.createElement(U,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.1ad939ea.chunk.js.map